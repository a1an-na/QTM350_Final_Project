{"title":"Data Analysis","markdown":{"yaml":{"title":"Data Analysis"},"headingText":"Import Libraries and Read Cleaned Dataset","containsRefs":false,"markdown":"\n\nAs stated in our introduction, our research question is: **How do population dynamics compare between countries of different income-levels?** To answer this question, we will examine three different indicators: life expectancy, adolescent fertility, and under-5 mortality rate.\n\nWe'll be using the pandas, matplotlib, and seaborn libraries for our analysis.\n\n```{python}\n#| echo: true\n#| eval: true\n\n\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\ndf = pd.read_csv('data/population_dynamics_clean.csv')\n```\n\n# Life Expectancy Analysis\n\nWe'll begin by looking at life expectancy over time by country. @fig-1 is a plot of life expectancy years from 2000 - 2023.\n\nBased on the different lines, we see a generally increasing trend in life expectancy for all 5 countries. Additionally, there is a signficant dip in life expectancy for all countries around 2020-2021. This is likely an effect of the COVID-19 global pandemic. According to the [World Health Organization](https://www.who.int/news/item/24-05-2024-covid-19-eliminated-a-decade-of-progress-in-global-level-of-life-expectancy), global life expectancy deceased 1.8 years to 71.4 years from 2019 to 2021, which is similar to the life expectancy we saw in 2012. This, which we can see in @fig-1, is approximately true for our selection of countries.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Life Expectancy from 2000 - 2023\"\n#| label: fig-1\n\n# Life Expectancy Rate by Country Over Time\n\nplt.figure(figsize=(10, 6))\nsns.lineplot(\n    data=df,\n    x=\"year\",\n    y=\"life_expectancy\",\n    hue=\"country\",\n    marker=\"o\"\n)\n\nplt.title(\"Life Expectancy Over Time by Country\", fontsize=14)\nplt.xlabel(\"Year\")\nplt.ylabel(\"Life Expectancy (Years)\")\nplt.legend(title=\"Country\")\nplt.tight_layout()\nplt.show()\n```\n\nWhile we see some general parallels, the life expectancy within these countries still vary drastically. @fig-2 depicts the selection of countries in order, from low-income, to lower-middle, to upper-middle, and to high. The height of the bars represents average life expectancy from more recent years, 2017 - 2023. People in high income countries have higher life expectancies than those in low income countries. In other words, life expectancy seems to be positively linked with a country's GNI.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Average Life Expectancy from 2017 - 2023\"\n#| label: fig-2\n\n# Bar plot of average life expectancy per country\navg_life_exp = (\n    df[df['year'].between(2017, 2023)]\n    .groupby(\"country\")[\"life_expectancy\"]\n    .mean()\n    .reset_index()\n)\n\ncountry_order = ['Afghanistan', 'Kenya', 'India', 'Brazil', 'United Kingdom']\n\nplt.figure(figsize=(8, 5))\nsns.barplot(data=avg_life_exp, x=\"country\", y=\"life_expectancy\", order=country_order)\nplt.title(\"Average Life Expectancy (2017–2023) by Country\")\nplt.ylabel(\"Average Life Expectancy (Years)\")\nplt.xlabel(\"Country\")\nplt.tight_layout()\nplt.show()\n```\n\nA table of these average life expectancies is also shown in @tbl-1. High-income countries, such as the United Kingdom, have generally higher life expectancy. The United Kingdom life expectancy hovers near the top edge of the plot in @fig-1, and in @tbl-1, we see that it has a high average life expectancy of around 81.0 years. However, for low-income countries, such as Afghanistan, we see a significantly lower life expectancy of around 63.0 years. Thus, again, there appears to be a rather strong correlation between a country's income level and their life expectancy.\n\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Average Life Expectancy from 2017 - 2023\"\n#| label: tbl-1\n\n# Average Life Expectancy by Country\n\ntable_1 = (\n    df[df['year'].between(2017, 2023)]\n    .groupby('country', as_index=False)['life_expectancy']\n    .mean()\n    .round(3)\n)\ntable_1.columns = ['Country', 'Average Life Expectancy (2017–2023)']\ntable_1\n```\n\n# Adolescent Fertility Analysis\n\nOur second indicator for population dynamics is adolescent fertility rate. @fig-3 shows adolescent fertility rates over time for our selection of countries. There appear to be drastic decreases for lower and lower-middle countries, such as India. Notably, India had high adolescent fertility rates, comparable to those of Afghanistan and Kenya in 2000, but decreased quickly, and currently has a much low adolescent fertility rate. India's improvement, as well as the decreases in adolescent fertility rates for other non-high-income countries (Afghanistan, Kenya, and Brazil) demonstrates a level of global improvement on this indicator.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Adolescent Fertility Rates from 2000 - 2023\"\n#| label: fig-3\n\n# Adolescent Fertility Rate by Country Over Time\n\n# Prepare the data for plotting\npivot_df = df.pivot(index='year', columns='country', values='adolescent_fertility')\n\n# Plot the line graph\nplt.figure(figsize=(12, 8))\npivot_df.plot(ax=plt.gca(), marker='o')\nplt.title('Adolescent Fertility Rate by Country Over Time')\nplt.xlabel('Year')\nplt.ylabel('Adolescent Fertility Rate')\nplt.legend(title='Country', bbox_to_anchor=(1.05, 1), loc='upper left')\nplt.xticks(pivot_df.index, rotation=45)\nplt.tight_layout()\nplt.show()\n```\n\n## Adolescent Fertility and Secondary School Enrollment\n\nStill, as shown in @tbl-2, there are signficantly wide gaps in adolescent fertility rates between lower- and higher-income countries. The United Kingdom has an average rate of approximately 10.1, whereas Afghanistan has a rate of around 70. This is a drastic difference, and one that still needs contionous attention and amendment.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Average Adolescent Fertility Rates from 2017 - 2023\"\n#| label: tbl-2\n\n# Average Adolescent Fertility Rate by Country\n\ntable_2 = (\n    df[df['year'].between(2017, 2023)]\n    .groupby('country', as_index=False)['adolescent_fertility']\n    .mean()\n    .round(3)\n)\ntable_2.columns = ['Country', 'Average Adolescent Fertility (2017–2023)']\ntable_2\n```\n\nIn addition to looking at adolescent fertility rates over time, we will examine how these rates interact with secondary school enrollment.\n\nAdolescent fertility rates consider girls ages 15 - 19. Most of these years align with secondary-school-enrollment years, which is typically around the 14 - 18 age range. Education can  better students' knowledge of reproductive health and the importance of contraception, and empower women to focus on their academics and career, which may delay child marriage. So, we will observe how education (secondary school enrollment, in particular) interacts with adolescent fertility rates in different countries.\n\n@fig-4 shows the adolescent fertility and secondary-school-enrollment rates over time. We chose the countries of India and the United Kingdom based on their income-level designations (lower-middle and high, respectively) as well as their availablity of secondary-school-enrollment data compared to other countries.\n\nFor India, as secondary school enrollment steadily increases, the adolescent fertility rate decreases quite drastically, suggesting an inverse correlation between these two variables. For the United Kingdom,\nwe see an increase in enrollment rates through the years, as well as a slight decrease in adolescent fertility, reflecting said inverse correlation. Additionally, enrollment rates have been relatively high and adolescent fertility rates low from 2000 - 2023, further emphasizing this inverse correlation. Considering both countries' plots, increasing secondary school enrollment is likely highly associated with decreasing adolescent fertility rates.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Adolescent Fertility and Secondary School Enrollment Rates: India and United Kingdom\"\n#| label: fig-4\n\n# Adolescent Fertility Rate and Secondary School Enrollment\n\n# Prepare the data for plotting\npivot_df_adolescent_fertility = df.pivot(index='year', columns='country', values='adolescent_fertility')\npivot_df_secondary_school_enrollment = df.pivot(index='year', columns='country', values='secondary_school_enrollment')\n\n# Plot the graphs\nfig, axes = plt.subplots(1, 2, figsize=(14, 6), sharex=True, sharey=True)\n\n# India\naxes[0].plot(\n    pivot_df_adolescent_fertility.index,\n    pivot_df_adolescent_fertility['India'],\n    marker='o',\n    label='Adolescent Fertility Rate',\n    color='tab:blue'\n)\naxes[0].plot(\n    pivot_df_secondary_school_enrollment.index,\n    pivot_df_secondary_school_enrollment['India'],\n    marker='s',\n    label='Secondary School Enrollment',\n    color='tab:orange'\n)\naxes[0].set_title('India')\naxes[0].set_xlabel('Year')\naxes[0].set_ylabel('Rate')\naxes[0].legend()\naxes[0].tick_params(axis='x', rotation=45)\n\n# United Kingdom\naxes[1].plot(\n    pivot_df_adolescent_fertility.index,\n    pivot_df_adolescent_fertility['United Kingdom'],\n    marker='o',\n    label='Adolescent Fertility Rate',\n    color='tab:blue'\n)\naxes[1].plot(\n    pivot_df_secondary_school_enrollment.index,\n    pivot_df_secondary_school_enrollment['United Kingdom'],\n    marker='s',\n    label='Secondary School Enrollment',\n    color='tab:orange'\n)\naxes[1].set_title('United Kingdom')\naxes[1].set_xlabel('Year')\naxes[1].legend()\naxes[1].tick_params(axis='x', rotation=45)\n\nfig.suptitle('Adolescent Fertility Rate and Secondary School Enrollment\\n(India and United Kingdom)', fontsize=16)\nplt.tight_layout(rect=[0, 0.03, 1, 0.95])\nplt.show()\n```\n\n# Under-5 Mortality Rate Analysis\n\nOur final indicator is under-5 mortality rate. @fig-5 shows the under-5 mortality rate for our selected countries over time. We see a general decrease in mortality rate for all countries, demonstrating that we're improving this indicator on a global level.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Under-5 Mortality Rates from 2000 - 2023\"\n#| label: fig-5\n\n#Under 5 Mortality Rate by Country Over Time\n\n# Prepare the data for plotting\npivot_df = df.pivot(index='year', columns='country', values='under5_mortality')\n\n# Plot the line graph\nplt.figure(figsize=(12, 8))\npivot_df.plot(ax=plt.gca(), marker='o')\nplt.title('Under 5 Mortality Rate by Country Over Time')\nplt.xlabel('Year')\nplt.ylabel('Under 5 Mortality Rate')\nplt.legend(title='Country', bbox_to_anchor=(1.05, 1), loc='upper left')\nplt.xticks(pivot_df.index, rotation=45)\nplt.tight_layout()\nplt.show()\n```\n\nHowever, like previous indicators, there appears to be signficant differences in the mortality rate as shown in @tbl-3. Afghanistan, at the lowest income-level, has a very high under-5 mortality rate of 61.4. Kenya and India, both lower-middle income countries, have mortality rates of 42.7 and 32.7, respectively. We see more improvement as income-level increases. For Brazil, an upper-middle-income country, the under-5 mortality rate is 14.9, and for the United Kingdom, a high-income country, the rate is very low, at 4.4. A country's GNI, then, seems to have a strong bearing on their child mortality rate, which is generally similar to what we previously saw with GNI and adolescent fertility in @tbl-2.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Average Under-5 Mortality Rates from 2017 - 2023\"\n#| label: tbl-3\n\n# Average Under 5 Mortality Rate by Country\n\ntable_3 = (\n    df[df['year'].between(2017, 2023)]\n    .groupby('country', as_index=False)['under5_mortality']\n    .mean()\n    .round(3)\n)\ntable_3.columns = ['Country', 'Under-5 Mortality (2017–2023)']\ntable_3\n```\n\n## Under-5 Mortality and Adolescent Fertility\n\nIn order to better understand the relationship between adolescent fertility and under-5 mortality, we plotted the two variables over time for two countries with very different income levels: Afghanistan and the United Kingdom. This is shown in @fig-6. Based on the parallel downward curves we see in both plots, especially that of Afghanistan, adolescent fertility and under-5 mortality are strongly linked. Additionally, we can clearly see the differences in both of these indicators for low- and high-income countries, as Afghanistan's rates from 2023 are still higher than those of the United Kingdom in 2000.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Under-5 Mortality & Adolescent Fertility Rates: Afghanistan and United Kingdom\"\n#| label: fig-6\n\n# Under 5 Mortality Rate and Adolescent Fertility Rate\n\n# Prepare the data for plotting\npivot_df_under5_mortality = df.pivot(index='year', columns='country', values='under5_mortality')\npivot_df_adolescent_fertility = df.pivot(index='year', columns='country', values='adolescent_fertility')\n\n# Plot the graphs\nfig, axes = plt.subplots(1, 2, figsize=(14, 6), sharex=True, sharey=True)\n\n# Afghanistan\naxes[0].plot(\n    pivot_df_adolescent_fertility.index,\n    pivot_df_adolescent_fertility['Afghanistan'],\n    marker='o',\n    label='Adolescent Fertility Rate',\n    color='tab:blue'\n)\naxes[0].plot(\n    pivot_df_under5_mortality.index,\n    pivot_df_under5_mortality['Afghanistan'],\n    marker='s',\n    label='Under-5 Mortality Rate',\n    color='tab:orange'\n)\naxes[0].set_title('Afghanistan')\naxes[0].set_xlabel('Year')\naxes[0].set_ylabel('Rate')\naxes[0].legend()\naxes[0].tick_params(axis='x', rotation=45)\n\n# United Kingdom\naxes[1].plot(\n    pivot_df_adolescent_fertility.index,\n    pivot_df_adolescent_fertility['United Kingdom'],\n    marker='o',\n    label='Adolescent Fertility Rate',\n    color='tab:blue'\n)\naxes[1].plot(\n    pivot_df_under5_mortality.index,\n    pivot_df_under5_mortality['United Kingdom'],\n    marker='s',\n    label='Under-5 Mortality Rate',\n    color='tab:orange'\n)\naxes[1].set_title('United Kingdom')\naxes[1].set_xlabel('Year')\naxes[1].legend()\naxes[1].tick_params(axis='x', rotation=45)\n\nfig.suptitle('Under-5 Mortality and Adolescent Fertility Rates\\n(Afghanistan and United Kingdom)', fontsize=16)\nplt.tight_layout(rect=[0, 0.03, 1, 0.95])\nplt.show()\n\n```\n\nNow, we'll discuss our [results](results_discussion.qmd) in the next section.","srcMarkdownNoYaml":"\n\nAs stated in our introduction, our research question is: **How do population dynamics compare between countries of different income-levels?** To answer this question, we will examine three different indicators: life expectancy, adolescent fertility, and under-5 mortality rate.\n\nWe'll be using the pandas, matplotlib, and seaborn libraries for our analysis.\n\n```{python}\n#| echo: true\n#| eval: true\n\n# Import Libraries and Read Cleaned Dataset\n\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\ndf = pd.read_csv('data/population_dynamics_clean.csv')\n```\n\n# Life Expectancy Analysis\n\nWe'll begin by looking at life expectancy over time by country. @fig-1 is a plot of life expectancy years from 2000 - 2023.\n\nBased on the different lines, we see a generally increasing trend in life expectancy for all 5 countries. Additionally, there is a signficant dip in life expectancy for all countries around 2020-2021. This is likely an effect of the COVID-19 global pandemic. According to the [World Health Organization](https://www.who.int/news/item/24-05-2024-covid-19-eliminated-a-decade-of-progress-in-global-level-of-life-expectancy), global life expectancy deceased 1.8 years to 71.4 years from 2019 to 2021, which is similar to the life expectancy we saw in 2012. This, which we can see in @fig-1, is approximately true for our selection of countries.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Life Expectancy from 2000 - 2023\"\n#| label: fig-1\n\n# Life Expectancy Rate by Country Over Time\n\nplt.figure(figsize=(10, 6))\nsns.lineplot(\n    data=df,\n    x=\"year\",\n    y=\"life_expectancy\",\n    hue=\"country\",\n    marker=\"o\"\n)\n\nplt.title(\"Life Expectancy Over Time by Country\", fontsize=14)\nplt.xlabel(\"Year\")\nplt.ylabel(\"Life Expectancy (Years)\")\nplt.legend(title=\"Country\")\nplt.tight_layout()\nplt.show()\n```\n\nWhile we see some general parallels, the life expectancy within these countries still vary drastically. @fig-2 depicts the selection of countries in order, from low-income, to lower-middle, to upper-middle, and to high. The height of the bars represents average life expectancy from more recent years, 2017 - 2023. People in high income countries have higher life expectancies than those in low income countries. In other words, life expectancy seems to be positively linked with a country's GNI.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Average Life Expectancy from 2017 - 2023\"\n#| label: fig-2\n\n# Bar plot of average life expectancy per country\navg_life_exp = (\n    df[df['year'].between(2017, 2023)]\n    .groupby(\"country\")[\"life_expectancy\"]\n    .mean()\n    .reset_index()\n)\n\ncountry_order = ['Afghanistan', 'Kenya', 'India', 'Brazil', 'United Kingdom']\n\nplt.figure(figsize=(8, 5))\nsns.barplot(data=avg_life_exp, x=\"country\", y=\"life_expectancy\", order=country_order)\nplt.title(\"Average Life Expectancy (2017–2023) by Country\")\nplt.ylabel(\"Average Life Expectancy (Years)\")\nplt.xlabel(\"Country\")\nplt.tight_layout()\nplt.show()\n```\n\nA table of these average life expectancies is also shown in @tbl-1. High-income countries, such as the United Kingdom, have generally higher life expectancy. The United Kingdom life expectancy hovers near the top edge of the plot in @fig-1, and in @tbl-1, we see that it has a high average life expectancy of around 81.0 years. However, for low-income countries, such as Afghanistan, we see a significantly lower life expectancy of around 63.0 years. Thus, again, there appears to be a rather strong correlation between a country's income level and their life expectancy.\n\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Average Life Expectancy from 2017 - 2023\"\n#| label: tbl-1\n\n# Average Life Expectancy by Country\n\ntable_1 = (\n    df[df['year'].between(2017, 2023)]\n    .groupby('country', as_index=False)['life_expectancy']\n    .mean()\n    .round(3)\n)\ntable_1.columns = ['Country', 'Average Life Expectancy (2017–2023)']\ntable_1\n```\n\n# Adolescent Fertility Analysis\n\nOur second indicator for population dynamics is adolescent fertility rate. @fig-3 shows adolescent fertility rates over time for our selection of countries. There appear to be drastic decreases for lower and lower-middle countries, such as India. Notably, India had high adolescent fertility rates, comparable to those of Afghanistan and Kenya in 2000, but decreased quickly, and currently has a much low adolescent fertility rate. India's improvement, as well as the decreases in adolescent fertility rates for other non-high-income countries (Afghanistan, Kenya, and Brazil) demonstrates a level of global improvement on this indicator.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Adolescent Fertility Rates from 2000 - 2023\"\n#| label: fig-3\n\n# Adolescent Fertility Rate by Country Over Time\n\n# Prepare the data for plotting\npivot_df = df.pivot(index='year', columns='country', values='adolescent_fertility')\n\n# Plot the line graph\nplt.figure(figsize=(12, 8))\npivot_df.plot(ax=plt.gca(), marker='o')\nplt.title('Adolescent Fertility Rate by Country Over Time')\nplt.xlabel('Year')\nplt.ylabel('Adolescent Fertility Rate')\nplt.legend(title='Country', bbox_to_anchor=(1.05, 1), loc='upper left')\nplt.xticks(pivot_df.index, rotation=45)\nplt.tight_layout()\nplt.show()\n```\n\n## Adolescent Fertility and Secondary School Enrollment\n\nStill, as shown in @tbl-2, there are signficantly wide gaps in adolescent fertility rates between lower- and higher-income countries. The United Kingdom has an average rate of approximately 10.1, whereas Afghanistan has a rate of around 70. This is a drastic difference, and one that still needs contionous attention and amendment.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Average Adolescent Fertility Rates from 2017 - 2023\"\n#| label: tbl-2\n\n# Average Adolescent Fertility Rate by Country\n\ntable_2 = (\n    df[df['year'].between(2017, 2023)]\n    .groupby('country', as_index=False)['adolescent_fertility']\n    .mean()\n    .round(3)\n)\ntable_2.columns = ['Country', 'Average Adolescent Fertility (2017–2023)']\ntable_2\n```\n\nIn addition to looking at adolescent fertility rates over time, we will examine how these rates interact with secondary school enrollment.\n\nAdolescent fertility rates consider girls ages 15 - 19. Most of these years align with secondary-school-enrollment years, which is typically around the 14 - 18 age range. Education can  better students' knowledge of reproductive health and the importance of contraception, and empower women to focus on their academics and career, which may delay child marriage. So, we will observe how education (secondary school enrollment, in particular) interacts with adolescent fertility rates in different countries.\n\n@fig-4 shows the adolescent fertility and secondary-school-enrollment rates over time. We chose the countries of India and the United Kingdom based on their income-level designations (lower-middle and high, respectively) as well as their availablity of secondary-school-enrollment data compared to other countries.\n\nFor India, as secondary school enrollment steadily increases, the adolescent fertility rate decreases quite drastically, suggesting an inverse correlation between these two variables. For the United Kingdom,\nwe see an increase in enrollment rates through the years, as well as a slight decrease in adolescent fertility, reflecting said inverse correlation. Additionally, enrollment rates have been relatively high and adolescent fertility rates low from 2000 - 2023, further emphasizing this inverse correlation. Considering both countries' plots, increasing secondary school enrollment is likely highly associated with decreasing adolescent fertility rates.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Adolescent Fertility and Secondary School Enrollment Rates: India and United Kingdom\"\n#| label: fig-4\n\n# Adolescent Fertility Rate and Secondary School Enrollment\n\n# Prepare the data for plotting\npivot_df_adolescent_fertility = df.pivot(index='year', columns='country', values='adolescent_fertility')\npivot_df_secondary_school_enrollment = df.pivot(index='year', columns='country', values='secondary_school_enrollment')\n\n# Plot the graphs\nfig, axes = plt.subplots(1, 2, figsize=(14, 6), sharex=True, sharey=True)\n\n# India\naxes[0].plot(\n    pivot_df_adolescent_fertility.index,\n    pivot_df_adolescent_fertility['India'],\n    marker='o',\n    label='Adolescent Fertility Rate',\n    color='tab:blue'\n)\naxes[0].plot(\n    pivot_df_secondary_school_enrollment.index,\n    pivot_df_secondary_school_enrollment['India'],\n    marker='s',\n    label='Secondary School Enrollment',\n    color='tab:orange'\n)\naxes[0].set_title('India')\naxes[0].set_xlabel('Year')\naxes[0].set_ylabel('Rate')\naxes[0].legend()\naxes[0].tick_params(axis='x', rotation=45)\n\n# United Kingdom\naxes[1].plot(\n    pivot_df_adolescent_fertility.index,\n    pivot_df_adolescent_fertility['United Kingdom'],\n    marker='o',\n    label='Adolescent Fertility Rate',\n    color='tab:blue'\n)\naxes[1].plot(\n    pivot_df_secondary_school_enrollment.index,\n    pivot_df_secondary_school_enrollment['United Kingdom'],\n    marker='s',\n    label='Secondary School Enrollment',\n    color='tab:orange'\n)\naxes[1].set_title('United Kingdom')\naxes[1].set_xlabel('Year')\naxes[1].legend()\naxes[1].tick_params(axis='x', rotation=45)\n\nfig.suptitle('Adolescent Fertility Rate and Secondary School Enrollment\\n(India and United Kingdom)', fontsize=16)\nplt.tight_layout(rect=[0, 0.03, 1, 0.95])\nplt.show()\n```\n\n# Under-5 Mortality Rate Analysis\n\nOur final indicator is under-5 mortality rate. @fig-5 shows the under-5 mortality rate for our selected countries over time. We see a general decrease in mortality rate for all countries, demonstrating that we're improving this indicator on a global level.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Under-5 Mortality Rates from 2000 - 2023\"\n#| label: fig-5\n\n#Under 5 Mortality Rate by Country Over Time\n\n# Prepare the data for plotting\npivot_df = df.pivot(index='year', columns='country', values='under5_mortality')\n\n# Plot the line graph\nplt.figure(figsize=(12, 8))\npivot_df.plot(ax=plt.gca(), marker='o')\nplt.title('Under 5 Mortality Rate by Country Over Time')\nplt.xlabel('Year')\nplt.ylabel('Under 5 Mortality Rate')\nplt.legend(title='Country', bbox_to_anchor=(1.05, 1), loc='upper left')\nplt.xticks(pivot_df.index, rotation=45)\nplt.tight_layout()\nplt.show()\n```\n\nHowever, like previous indicators, there appears to be signficant differences in the mortality rate as shown in @tbl-3. Afghanistan, at the lowest income-level, has a very high under-5 mortality rate of 61.4. Kenya and India, both lower-middle income countries, have mortality rates of 42.7 and 32.7, respectively. We see more improvement as income-level increases. For Brazil, an upper-middle-income country, the under-5 mortality rate is 14.9, and for the United Kingdom, a high-income country, the rate is very low, at 4.4. A country's GNI, then, seems to have a strong bearing on their child mortality rate, which is generally similar to what we previously saw with GNI and adolescent fertility in @tbl-2.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Average Under-5 Mortality Rates from 2017 - 2023\"\n#| label: tbl-3\n\n# Average Under 5 Mortality Rate by Country\n\ntable_3 = (\n    df[df['year'].between(2017, 2023)]\n    .groupby('country', as_index=False)['under5_mortality']\n    .mean()\n    .round(3)\n)\ntable_3.columns = ['Country', 'Under-5 Mortality (2017–2023)']\ntable_3\n```\n\n## Under-5 Mortality and Adolescent Fertility\n\nIn order to better understand the relationship between adolescent fertility and under-5 mortality, we plotted the two variables over time for two countries with very different income levels: Afghanistan and the United Kingdom. This is shown in @fig-6. Based on the parallel downward curves we see in both plots, especially that of Afghanistan, adolescent fertility and under-5 mortality are strongly linked. Additionally, we can clearly see the differences in both of these indicators for low- and high-income countries, as Afghanistan's rates from 2023 are still higher than those of the United Kingdom in 2000.\n\n```{python}\n#| echo: true\n#| eval: true\n#| code-fold: true\n#| fig-cap: \"Under-5 Mortality & Adolescent Fertility Rates: Afghanistan and United Kingdom\"\n#| label: fig-6\n\n# Under 5 Mortality Rate and Adolescent Fertility Rate\n\n# Prepare the data for plotting\npivot_df_under5_mortality = df.pivot(index='year', columns='country', values='under5_mortality')\npivot_df_adolescent_fertility = df.pivot(index='year', columns='country', values='adolescent_fertility')\n\n# Plot the graphs\nfig, axes = plt.subplots(1, 2, figsize=(14, 6), sharex=True, sharey=True)\n\n# Afghanistan\naxes[0].plot(\n    pivot_df_adolescent_fertility.index,\n    pivot_df_adolescent_fertility['Afghanistan'],\n    marker='o',\n    label='Adolescent Fertility Rate',\n    color='tab:blue'\n)\naxes[0].plot(\n    pivot_df_under5_mortality.index,\n    pivot_df_under5_mortality['Afghanistan'],\n    marker='s',\n    label='Under-5 Mortality Rate',\n    color='tab:orange'\n)\naxes[0].set_title('Afghanistan')\naxes[0].set_xlabel('Year')\naxes[0].set_ylabel('Rate')\naxes[0].legend()\naxes[0].tick_params(axis='x', rotation=45)\n\n# United Kingdom\naxes[1].plot(\n    pivot_df_adolescent_fertility.index,\n    pivot_df_adolescent_fertility['United Kingdom'],\n    marker='o',\n    label='Adolescent Fertility Rate',\n    color='tab:blue'\n)\naxes[1].plot(\n    pivot_df_under5_mortality.index,\n    pivot_df_under5_mortality['United Kingdom'],\n    marker='s',\n    label='Under-5 Mortality Rate',\n    color='tab:orange'\n)\naxes[1].set_title('United Kingdom')\naxes[1].set_xlabel('Year')\naxes[1].legend()\naxes[1].tick_params(axis='x', rotation=45)\n\nfig.suptitle('Under-5 Mortality and Adolescent Fertility Rates\\n(Afghanistan and United Kingdom)', fontsize=16)\nplt.tight_layout(rect=[0, 0.03, 1, 0.95])\nplt.show()\n\n```\n\nNow, we'll discuss our [results](results_discussion.qmd) in the next section."},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"data_analysis.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.31","theme":["yeti","brand"],"title":"Data Analysis"},"extensions":{"book":{"multiFile":true}}},"pdf":{"identifier":{"display-name":"PDF","target-format":"pdf","base-format":"pdf"},"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","output-file":"data_analysis.pdf"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"block-headings":true,"title":"Data Analysis"},"extensions":{"book":{"selfContainedOutput":true}}}},"projectFormats":["html","pdf"]}